{% extends 'base.html' %}
{% block title %}Health Score{% endblock %}

{% block content %}
<div class="card">
  <h2 class="page-title">üß† Financial Health Score</h2>

  <div class="form-group full-width">
    <button id="checkScore" class="btn-primary">Check My Score</button>
    <p id="scoreResult" class="alert" style="margin-top: 1rem;"></p>
  </div>

  <div class="form-group full-width">
    <a href="{% url 'dashboard' %}" class="text-link">‚Üê Back to Dashboard</a>
  </div>
</div>

<script>
document.getElementById("checkScore").onclick = async () => {
  const res = await fetch("/health-score/", {
    headers: { "Accept": "application/json" }
  });
  const json = await res.json();

  const resultEl = document.getElementById("scoreResult");
  resultEl.innerText = `Your Score: ${json.score}`;
  resultEl.className = "alert success";
};
</script>
{% endblock %}
